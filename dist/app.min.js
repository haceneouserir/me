import{r as w,g as x}from"./aos-JupvBk5m.js";var T=w();const A=x(T);A.init();document.addEventListener("DOMContentLoaded",()=>{const u=document.documentElement,h="hs_theme",y=document.getElementById("btnDark"),L=document.getElementById("btnLight"),a=document.getElementById("drawerToggle"),k=document.querySelector("aside"),f=document.querySelector('label[for="drawerToggle"]'),n=document.getElementById("backToTop"),v=200,d=(e,r=!0)=>{const t=e==="dark";u.classList.toggle("dark",t),y.classList.toggle("hidden",t),L.classList.toggle("hidden",!t),r&&localStorage.setItem(h,e)},b=u.classList.contains("dark");d(b?"dark":"light",!1),y?.addEventListener("click",()=>d("dark")),L?.addEventListener("click",()=>d("light")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem(h)||d(e.matches?"dark":"light",!1)}),document.addEventListener("mousedown",e=>{a.checked&&!k.contains(e.target)&&e.target!==a&&!f.contains(e.target)&&(e.preventDefault(),a.checked=!1)}),f?.addEventListener("click",e=>{e.preventDefault(),a.checked=!a.checked});const E=document.querySelectorAll("section[id]"),S=document.querySelectorAll(".sidebar-link"),g=()=>{const e=window.scrollY;let r=null;if(E.forEach(t=>{const l=t.id,i=t.offsetTop,m=i+t.offsetHeight;(l!=="contactMe"&&e>=i&&e<m||l==="contactMe"&&e+window.innerHeight>=m)&&(r=l)}),S.forEach(t=>{t.classList.remove("bg-capri","text-gray-800","dark:text-gray-200","hover:bg-capri-light"),t.classList.add("text-gray-700","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800")}),r){const t=document.querySelector(`.sidebar-link[href="#${r}"]`);t?.classList.remove("text-gray-700","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800"),t?.classList.add("bg-capri","text-gray-800","dark:text-gray-200","hover:bg-capri-light")}e>v?(n?.classList.remove("hidden"),n?.classList.add("opacity-100")):(n?.classList.add("hidden"),n?.classList.remove("opacity-100"))};window.addEventListener("scroll",g),g(),document.querySelectorAll(".sidebar-link").forEach(e=>{e.addEventListener("click",()=>{setTimeout(g,10)})}),n?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),document.getElementById("contactForm")?.addEventListener("submit",async e=>{e.preventDefault();const r=e.currentTarget,t=document.getElementById("sendMail");t.disabled=!0,t.textContent="Sending...";const i="mail.php".split(/[?#]/)[0],m=new FormData(r);try{const c=await(await fetch(i,{method:"POST",body:m})).json(),q=["name","email","subject","message"];if(c.errors)q.forEach(o=>{const s=r.querySelector(`.${o}-field .validation-err`);c.errors[o]?(s?.classList.remove("hidden"),s.textContent=c.errors[o]):(s?.classList.add("hidden"),s.textContent="")});else if(c.success){document.querySelectorAll(".validation-err").forEach(s=>s.classList.add("hidden")),document.querySelectorAll(".error-icon").forEach(s=>s.classList.add("hidden")),document.querySelectorAll(".success-icon").forEach(s=>s.classList.remove("hidden"));const o=document.querySelector(".alert-msg");o?.classList.remove("hidden","bg-red-400"),o?.classList.add("bg-green-400"),document.querySelector(".alert-msg-text").textContent=c.message,setTimeout(()=>o?.classList.add("hidden"),5e3),r.reset()}else{const o=document.querySelector(".alert-msg");document.querySelectorAll(".validation-err").forEach(s=>s.classList.add("hidden")),document.querySelectorAll(".success-icon").forEach(s=>s.classList.add("hidden")),document.querySelectorAll(".error-icon").forEach(s=>s.classList.remove("hidden")),o?.classList.remove("hidden","bg-green-400"),o?.classList.add("bg-red-400"),document.querySelector(".alert-msg-text").textContent=c.message,setTimeout(()=>o?.classList.add("hidden"),5e3)}}catch{const c=document.querySelector(".alert-msg");c?.classList.remove("hidden"),c?.classList.add("bg-red-400"),document.querySelector(".alert-msg-text").textContent="Something went wrong, please try again later!",setTimeout(()=>c?.classList.add("hidden"),5e3)}finally{t.disabled=!1,t.textContent="Send Message"}}),document.querySelectorAll(".alert-msg-close").forEach(e=>{e.addEventListener("click",r=>{r.preventDefault(),document.querySelector(".alert-msg")?.classList.add("hidden")})})});
